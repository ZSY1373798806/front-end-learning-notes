## ğŸš€ æ‰“åŒ…éƒ¨ç½²

- **å¸¸è§æ–¹æ¡ˆ**ï¼šWebpackã€Viteã€Rollupã€Rspackã€Rsbuild
- **ä¼˜åŒ–ç›®æ ‡**
  - äº§ç‰©ç˜¦èº«ï¼ˆTree-shakingã€Code splittingã€å‹ç¼©æ··æ·†ï¼‰
  - é™æ€èµ„æºä¼˜åŒ–ï¼ˆå›¾ç‰‡å‹ç¼©ã€æ‡’åŠ è½½ã€CDNï¼‰
  - ç¼“å­˜åˆ©ç”¨ï¼ˆhashã€HTTP ç¼“å­˜ã€Service Workerï¼‰

### ESLint & Prettier

| **ç‰¹æ€§**       | **ESLint**                          | **Prettier**                        | **ååŒä»·å€¼**       |
| :------------- | :---------------------------------- | :---------------------------------- | :----------------- |
| **æ ¸å¿ƒåŠŸèƒ½**   | ä»£ç è´¨é‡æ£€æŸ¥ä¸é”™è¯¯æ£€æµ‹              | ä»£ç æ ¼å¼åŒ–ä¸é£æ ¼ç»Ÿä¸€                | è´¨é‡+ç¾è§‚åŒä¿éšœ    |
| **å·¥ä½œç›®æ ‡**   | å‘ç°æ½œåœ¨é”™è¯¯ï¼Œå¼ºåˆ¶ç¼–ç è§„èŒƒ          | è‡ªåŠ¨æ ¼å¼åŒ–ä»£ç ï¼Œç»Ÿä¸€è§†è§‰é£æ ¼        | é”™è¯¯é¢„é˜²+é£æ ¼ä¸€è‡´  |
| **è§„åˆ™ç±»å‹**   | å¯ä¿®å¤é—®é¢˜+ä¸å¯ä¿®å¤é—®é¢˜             | 100%å¯è‡ªåŠ¨ä¿®å¤çš„é—®é¢˜                | å…¨é¢è¦†ç›–ä¿®å¤åœºæ™¯   |
| **é…ç½®å¤æ‚åº¦** | é«˜ï¼ˆæ•°ç™¾æ¡è§„åˆ™å¯é…ç½®ï¼‰              | ä½ï¼ˆçº¦20ä¸ªä¸»è¦é€‰é¡¹ï¼‰                | å¹³è¡¡çµæ´»æ€§ä¸æ˜“ç”¨æ€§ |
| **è¯­è¨€æ”¯æŒ**   | JavaScript/TSä¸ºä¸»ï¼Œæ’ä»¶æ‰©å±•å…¶ä»–è¯­è¨€ | æ”¯æŒJS/TS/CSS/HTML/JSON/Markdownç­‰  | å…¨æ ˆè¦†ç›–           |
| **ä¿®å¤èƒ½åŠ›**   | å¯ä¿®å¤éƒ¨åˆ†é—®é¢˜                      | å¯ä¿®å¤æ‰€æœ‰æ”¯æŒçš„é—®é¢˜                | æœ€å¤§åŒ–è‡ªåŠ¨ä¿®å¤èŒƒå›´ |
| **å…¸å‹è§„åˆ™**   | `no-unused-vars`, `eqeqeq`          | `printWidth`, `semi`, `singleQuote` | è´¨é‡çº¦æŸ+è§†è§‰è§„èŒƒ  |

### Husky 

- æ˜¯ä¸€ä¸ªgité’©å­ç®¡ç†å™¨ï¼Œå…è®¸è§¦å‘è‡ªå®šä¹‰è„šæœ¬åœ¨gitäº‹ä»¶å‘ç”Ÿæ—¶å…è®¸ï¼›å¦‚pre-commitã€pre-pushã€post-mergeç­‰
- ä¸»è¦ç›®çš„æ˜¯è‡ªåŠ¨åŒ–ç‰ˆæœ¬æ§åˆ¶å·¥ä½œæµç¨‹ï¼Œä¾‹å¦‚åœ¨æäº¤å‰è¿è¡Œä»£ç æ£€æŸ¥ã€æ ¼å¼åŒ–ä»£ç æˆ–æ‰§è¡Œæµ‹è¯•ï¼›ä»¥ç¡®ä¿ä»£ç åº“çš„è´¨é‡å’Œä¸€è‡´æ€§

### lint-staged

- lint-stagedæ˜¯å…è®¸åœ¨Huskyé’©å­ä¹‹ä¸Šçš„å·¥å…·ï¼Œä¸“é—¨ç”¨äºå¯¹æš‚å­˜åŒºï¼ˆstagedï¼‰æ–‡ä»¶çš„æ£€æŸ¥
- å½“è¿è¡Œgit commitå¹¶Huskyè§¦å‘pre-commité’©å­æ—¶ï¼Œlint-stagedä¼šæ£€æŸ¥å³å°†æäº¤çš„ä»£ç ï¼ˆå³git addåçš„æ–‡ä»¶åˆ—è¡¨ï¼‰ï¼›å¹¶è¿è¡Œé…ç½®å¥½çš„æ£€æŸ¥è„šæœ¬ï¼Œå¦‚ä»£ç æ ¼å¼åŒ–ç¨‹åºã€linteræˆ–å…¶ä»–å·¥å…·
- ç›®çš„æ˜¯ç¡®ä¿åœ¨æäº¤ä¹‹å‰ï¼Œåªæœ‰æ²¡æœ‰æ£€æŸ¥é”™è¯¯çš„ä»£ç ä¼šè¢«æäº¤

### é…ç½®Husky & lint-staged

- å®‰è£…ä¾èµ–

  ```bash
  npm install commitizen cz-conventional-changelog @commitlint/cli @commitlint/config-conventional husky --save-dev
  ```

- é…ç½®Commitizen

  ```json
  {
    "config": {
      "commitizen": {
        "path": "./node_modules/cz-conventional-changelog"
      }
    },
    "scripts": {
      "commit": "git-cz"
    }
  }
  ```

- é…ç½®Huskyé’©å­

  ```bash
  npx husky install
  npm pkg set scripts.prepare="husky install"
  ```

- åˆ›å»ºç¦æ­¢ç›´æ¥ commit çš„é’©å­ (æ ¸å¿ƒ)

  ```bash
  npx husky add .husky/pre-commit
  ```

  ç¼–è¾‘.husky/pre-commitå†…å®¹

  ```bash
  #!/bin/sh
  
  # æ£€æŸ¥æ˜¯å¦é€šè¿‡ commitizen æäº¤
  if [ -z "$CZ_TYPE" ]; then
    echo "Error: Direct 'git commit' is disabled. Use 'npm run commit' instead." >&2
    exit 1
  fi
  ```

- é…ç½® Commitizen ä¼ é€’ç¯å¢ƒå˜é‡

  ä¿®æ”¹ `package.json` ä¸­çš„ commit è„šæœ¬

  ```json
  {
    "scripts": {
      "commit": "CZ_TYPE=true git-cz"
    }
  }
  ```

- é…ç½® commitlint (å¯é€‰ä½†æ¨è)

  åˆ›å»º `.commitlintrc.json`

  ```json
  {
    "extends": ["@commitlint/config-conventional"]
  }
  ```

  åˆ›å»º `.husky/commit-msg`

  ```bash
  npx husky add .husky/commit-msg 'npx --no commitlint --edit "$1"'
  ```

### Axios

- #### å–æ¶ˆè¯·æ±‚

  - CancelToken

    ```js
    import axios from 'axios';
    
    // åˆ›å»ºå–æ¶ˆä»¤ç‰Œæº
    const CancelToken = axios.CancelToken;
    const source = CancelToken.source();
    
    // å‘é€è¯·æ±‚
    axios.get('/api/data', {
      cancelToken: source.token
    }).catch(err => {
      if (axios.isCancel(err)) {
        console.log('è¯·æ±‚å–æ¶ˆ:', err.message);
      } else {
        // å¤„ç†å…¶ä»–é”™è¯¯
      }
    });
    
    // å–æ¶ˆè¯·æ±‚
    source.cancel('ç”¨æˆ·ä¸»åŠ¨å–æ¶ˆè¯·æ±‚');
    ```

  - AbortController 

    ```js
    const controller = new AbortController();
    
    axios.get('/api/data', {
      signal: controller.signal
    }).catch(err => {
      if (err.name === 'AbortError') {
        console.log('è¯·æ±‚å–æ¶ˆ');
      }
    });
    
    // å–æ¶ˆè¯·æ±‚
    controller.abort();
    ```

    

## ğŸ—ï¸ æœ€ä½³å®è·µç»„åˆ

1. **å¼€å‘ä¸­**
   - ESLint + Prettier å®æ—¶æ£€æµ‹ï¼ˆç¼–è¾‘å™¨æ’ä»¶ + ä¿å­˜è‡ªåŠ¨ä¿®å¤ï¼‰
   - Axios + AbortController ç®¡ç†è¯·æ±‚
2. **æäº¤å‰**
   - Husky (pre-commit) + lint-staged â†’ åªæ£€æŸ¥æœ¬æ¬¡ä¿®æ”¹æ–‡ä»¶
   - Commitizen ç»Ÿä¸€äº¤äº’å¼æäº¤
   - Commitlint æ ¡éªŒæäº¤è§„èŒƒ
3. **æ‰“åŒ…éƒ¨ç½²**
   - Vite/webpack æ‰“åŒ…ä¼˜åŒ–
   - CI/CD è‡ªåŠ¨æ‰§è¡Œ Lint + Test
   - éƒ¨ç½²å‰æ„å»ºäº§ç‰©å‹ç¼©ã€åˆ†å‘ CDN